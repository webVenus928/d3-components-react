!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("d3")):"function"==typeof define&&define.amd?define(["React","d3"],t):"object"==typeof exports?exports.ReactD3=t(require("React"),require("d3")):e.ReactD3=t(e.React,e.d3)}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(17),i=r(20),s=r(21),a=r(19),o=r(15),l=r(18);e.exports={BarChart:n,PieChart:i,ScatterPlot:s,LineChart:a,AreaChart:o,Brush:l}},function(t){t.exports=e},function(e){e.exports=t},function(e,t,r){"use strict";var n=r(1),i=n.createClass({displayName:"Chart",propTypes:{height:n.PropTypes.number.isRequired,width:n.PropTypes.number.isRequired,margin:n.PropTypes.shape({top:n.PropTypes.number,bottom:n.PropTypes.number,left:n.PropTypes.number,right:n.PropTypes.number}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,i=e.margin,s=e.children;return n.createElement("svg",{ref:"svg",width:t,height:r},n.createElement("g",{transform:"translate("+i.left+", "+i.top+")"},s))}});e.exports=i},function(e){"use strict";var t={componentWillMount:function(){this._calculateInner(this.props)},componentWillReceiveProps:function(e){this._calculateInner(e)},_calculateInner:function(){var e=this.props,t=e.height,r=e.width,n=e.margin;this._innerHeight=t-n.top-n.bottom,this._innerWidth=r-n.left-n.right}};e.exports=t},function(e,t,r){"use strict";var n=r(1),i=(r(2),n.createClass({displayName:"Axis",propTypes:{tickArguments:n.PropTypes.array,tickValues:n.PropTypes.array,tickFormat:n.PropTypes.func,innerTickSize:n.PropTypes.number,tickPadding:n.PropTypes.number,outerTickSize:n.PropTypes.number,scale:n.PropTypes.func.isRequired,className:n.PropTypes.string,zero:n.PropTypes.number,orientation:n.PropTypes.oneOf(["top","bottom","left","right"]).isRequired,label:n.PropTypes.string},getDefaultProps:function(){return{tickArguments:[10],tickValues:null,tickFormat:null,innerTickSize:6,tickPadding:3,outerTickSize:6,className:"axis",zero:0,label:""}},_getTranslateString:function(){var e=this.props,t=e.orientation,r=e.height,n=e.width,i=e.zero;return"top"===t?"translate(0, "+i+")":"bottom"===t?"translate(0, "+(0==i?r:i)+")":"left"===t?"translate("+i+", 0)":"right"===t?"translate("+(0==i?n:i)+", 0)":""},render:function(){var e=this.props,t=e.height,r=e.width,i=e.tickArguments,s=e.tickValues,a=e.tickFormat,o=e.innerTickSize,l=e.tickPadding,p=e.outerTickSize,u=e.scale,c=e.orientation,h=e.className,d=e.zero,f=e.label,m=null==s?u.ticks?u.ticks.apply(u,i):u.domain():s;a||(a=u.tickFormat?u.tickFormat.apply(u,i):function(e){return e}),d!=t&&d!=r&&0!=d&&(m=m.filter(function(e){return 0==e?!1:!0}));var y=Math.max(o,0)+l,x="top"===c||"left"===c?-1:1,v=this._d3_scaleRange(u),g=u.rangeBand?function(e){return u(e)+u.rangeBand()/2}:u,_=void 0,P=void 0,E=void 0,T=void 0,S=void 0,M=void 0,b=void 0,R=void 0,k=void 0;"bottom"===c||"top"===c?(_="translate({}, 0)",P=0,E=x*y,T=0,S=x*o,M=0>x?"0em":".71em",b="middle",R="M"+v[0]+", "+x*p+"V0H"+v[1]+"V"+x*p,k=n.createElement("text",{className:""+h+" label",textAnchor:"end",x:r,y:-6},f)):(_="translate(0, {})",P=x*y,E=0,T=x*o,S=0,M=".32em",b=0>x?"end":"start",R="M"+x*p+", "+v[0]+"H0V"+v[1]+"H"+x*p,k=n.createElement("text",{className:""+h+" label",textAnchor:"end",y:6,dy:".75em",transform:"rotate(-90)"},f));var w=m.map(function(e,t){var r=g(e),i=_.replace("{}",r);return n.createElement("g",{key:""+e+"."+t,className:"tick",transform:i},n.createElement("line",{x2:T,y2:S,stroke:"#aaa"}),n.createElement("text",{x:P,y:E,dy:M,textAnchor:b},a(e)))}),D=n.createElement("path",{className:"domain",d:R,fill:"none",stroke:"#aaa"});return n.createElement("g",{ref:"axis",className:h,transform:this._getTranslateString(),style:{shapeRendering:"crispEdges"}},w,D,k)},_d3_scaleExtent:function(e){var t=e[0],r=e[e.length-1];return r>t?[t,r]:[r,t]},_d3_scaleRange:function(e){return e.rangeExtent?e.rangeExtent():this._d3_scaleExtent(e.range())}}));e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(2),s={propTypes:{data:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.array]).isRequired,height:n.PropTypes.number.isRequired,width:n.PropTypes.number.isRequired,margin:n.PropTypes.shape({top:n.PropTypes.number,bottom:n.PropTypes.number,left:n.PropTypes.number,right:n.PropTypes.number}),xScale:n.PropTypes.func,yScale:n.PropTypes.func,colorScale:n.PropTypes.func},getDefaultProps:function(){return{margin:{top:0,bottom:0,left:0,right:0},xScale:null,yScale:null,colorScale:i.scale.category20()}}};e.exports=s},function(e,t,r){"use strict";var n=r(1),i=(r(2),n.createClass({displayName:"Tooltip",propTypes:{top:n.PropTypes.number.isRequired,left:n.PropTypes.number.isRequired,html:n.PropTypes.string},getDefaultProps:function(){return{top:150,left:100,html:""}},render:function(){var e=this.props,t=e.top,r=e.left,i=e.hidden,s=e.html,a={display:i?"none":"block",position:"fixed",top:t,left:r};return n.createElement("div",{className:"tooltip",style:a},s)}}));e.exports=i},function(e,t,r){"use strict";var n=r(1),i=(r(2),{propTypes:{tooltipHtml:n.PropTypes.func},getInitialState:function(){return{tooltip:{hidden:!0}}},getDefaultProps:function(){return{tooltipOffset:{top:-20,left:15},tooltipHtml:null}},componentDidMount:function(){this._svg_node=this.getDOMNode().getElementsByTagName("svg")[0]},onMouseEnter:function(e,t){if(this.props.tooltipHtml){e.preventDefault();var r=this.props,n=r.margin,i=(r.tooltipHtml,this._svg_node),s=void 0;if(i.createSVGPoint){var a=i.createSVGPoint();a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(i.getScreenCTM().inverse()),s=[a.x-n.left,a.y-n.top]}else{var o=i.getBoundingClientRect();s=[e.clientX-o.left-i.clientLeft-n.left,e.clientY-o.top-i.clientTop-n.top]}this.setState({tooltip:{top:e.clientY+this.props.tooltipOffset.top,left:e.clientX+this.props.tooltipOffset.left,hidden:!1,html:this._tooltipHtml(t,s)}})}},onMouseLeave:function(e){this.props.tooltipHtml&&(e.preventDefault(),this.setState({tooltip:{hidden:!0}}))}});e.exports=i},function(e){"use strict";var t={componentWillMount:function(){this._arrayify(this.props)},componentWillReceiveProps:function(e){this._arrayify(e)},_arrayify:function(e){this._data=Array.isArray(e.data)?e.data:[e.data]}};e.exports=t},function(e,t,r){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var r,n=[],i=e[Symbol.iterator]();!(r=i.next()).done&&(n.push(r.value),!t||n.length!==t););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(1),s=r(2),a={propTypes:{barPadding:i.PropTypes.number},getDefaultProps:function(){return{barPadding:.5}},componentWillMount:function(){this._makeScales(this.props)},componentWillReceiveProps:function(e){this._makeScales(e)},_makeScales:function(e){var t=e.xScale,r=e.xIntercept,i=e.yScale,s=e.yIntercept;if(t){var a=[t,r],o=n(a,2);this._xScale=o[0],this._xIntercept=o[1]}else{var l=this._makeXScale(),p=n(l,2);this._xScale=p[0],this._xIntercept=p[1]}if(this.props.yScale){var u=[i,s],c=n(u,2);this._yScale=c[0],this._yIntercept=c[1]}else{var h=this._makeYScale(),d=n(h,2);this._yScale=d[0],this._yIntercept=d[1]}},_makeXScale:function(){var e=this.props,t=e.x,r=e.values,n=this._data;return"number"==typeof t(r(n[0])[0])?this._makeLinearXScale():"function"==typeof t(r(n[0])[0]).getMonth?this._makeTimeXScale():this._makeOrdinalXScale()},_makeLinearXScale:function(){var e=this.props,t=e.x,r=e.values,n=this._data,i=this._innerWidth,a=s.extent(Array.prototype.concat.apply([],n.map(function(e){return r(e).map(function(e){return t(e)})}))),o=s.scale.linear().domain(a).range([0,i]),l=s.max([0,o.domain()[0]]),p=o(l);return[o,p]},_makeOrdinalXScale:function(){var e=this.props,t=e.x,r=e.values,n=e.barPadding,i=this._data,a=this._innerWidth,o=s.scale.ordinal().domain(r(i[0]).map(function(e){return t(e)})).rangeRoundBands([0,a],n);return[o,0]},_makeTimeXScale:function(){var e=this.props,t=e.x,r=e.values,n=(e.barPadding,this._data),i=this._innerWidth,a=s.time.scale().domain(r(n[0]).map(function(e){return t(e)})).range([0,i]);return[a,0]},_makeYScale:function(){var e=this.props,t=e.y,r=e.values,n=this._data;return"number"==typeof t(r(n[0])[0])?this._makeLinearYScale():this._makeOrdinalYScale()},_makeLinearYScale:function(){var e=this.props,t=e.y,r=e.y0,n=e.values,i=this._data,a=this._innerHeight,o=s.extent(Array.prototype.concat.apply([],i.map(function(e){return n(e).map(function(e){return r(e)+t(e)})})));o=[s.min([0,o[0]]),o[1]];var l=s.scale.linear().domain(o).range([a,0]),p=s.max([0,l.domain()[0]]),u=l(p);return[l,u]},_makeOrdinalYScale:function(){return[null,0]}};e.exports=a},function(e,t,r){"use strict";var n=r(1),i={propTypes:{label:n.PropTypes.func,values:n.PropTypes.func,x:n.PropTypes.func,y:n.PropTypes.func,y0:n.PropTypes.func},getDefaultProps:function(){return{label:function(e){return e.label},values:function(e){return e.values},x:function(e){return e.x},y:function(e){return e.y},y0:function(){return 0}}}};e.exports=i},function(e,t,r){"use strict";var n=r(1),i=(r(2),n.createClass({displayName:"Path",propTypes:{className:n.PropTypes.string,stroke:n.PropTypes.string.isRequired,fill:n.PropTypes.string,d:n.PropTypes.string.isRequired,data:n.PropTypes.array.isRequired},getDefaultProps:function(){return{className:"path",fill:"none"}},render:function(){var e=this.props,t=e.className,r=e.stroke,i=e.fill,s=e.d,a=e.style,o=e.data,l=e.onMouseEnter,p=e.onMouseLeave;return n.createElement("path",{className:t,strokeWidth:"2",stroke:r,fill:i,d:s,onMouseMove:function(e){l(e,o)},onMouseLeave:function(e){p(e)},style:a})}}));e.exports=i},function(e,t,r){"use strict";var n=r(1),i={propTypes:{label:n.PropTypes.func,values:n.PropTypes.func,x:n.PropTypes.func,y:n.PropTypes.func,y0:n.PropTypes.func},getDefaultProps:function(){return{label:function(e){return e.label},values:function(e){return e.values},x:function(e){return e.x},y:function(e){return e.y},y0:function(e){return e.y0}}}};e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(2),s={propTypes:{offset:n.PropTypes.string},getDefaultProps:function(){return{offset:"zero",order:"default"}},componentWillMount:function(){this._stackData(this.props)},componentWillReceiveProps:function(e){this._stackData(e)},_stackData:function(){var e=this.props,t=e.offset,r=e.order,n=e.x,s=e.y,a=e.values,o=i.layout.stack().offset(t).order(r).x(n).y(s).values(a);this._data=o(this._data)}};e.exports=s},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),s=r(2),a=r(3),o=r(5),l=r(12),p=r(7),u=r(6),c=r(4),h=r(9),d=r(13),f=r(14),m=r(10),y=r(8),x=i.createClass({displayName:"DataSet",propTypes:{data:i.PropTypes.array.isRequired,area:i.PropTypes.func.isRequired,line:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired,stroke:i.PropTypes.func.isRequired},render:function(){{var e=this.props,t=e.data,r=e.area,n=e.line,s=e.colorScale,a=e.stroke,o=e.values,p=e.label,u=e.onMouseEnter,c=e.onMouseLeave,h=t.map(function(e,n){return i.createElement(l,{key:""+p(e)+"."+n,className:"area",stroke:"none",fill:s(p(e)),d:r(o(e)),onMouseEnter:u,onMouseLeave:c,data:t})});t.map(function(e){return i.createElement(l,{className:"line",d:n(o(e)),stroke:a(p(e))})})}return i.createElement("g",null,h)}}),v=i.createClass({displayName:"AreaChart",mixins:[u,c,h,d,f,m,y],propTypes:{interpolate:i.PropTypes.string,stroke:i.PropTypes.func},getDefaultProps:function(){return{interpolate:"linear",stroke:s.scale.category20()}},_tooltipHtml:function(e,t){var r=this.props,n=r.x,i=r.y0,a=r.y,o=r.values,l=(r.label,this._xScale),p=this._yScale,u=l.invert(t[0]),c=s.bisector(function(e){return n(e)}).right,h=c(o(e[0]),l.invert(t[0]));h=h==o(e[0]).length?h-1:h;var d=h==o(e[0]).length?h-1:h,f=n(o(e[0])[d]),m=0==h?h:h-1,y=n(o(e[0])[m]);h=Math.abs(u-f)<Math.abs(u-y)?d:m;var x=p.invert(t[1]),v=s.bisector(function(e){return i(o(e)[h])+a(o(e)[h])}).left,g=v(e,x);g=g==e.length?g-1:g;var _=a(o(e[g])[h]),P=i(o(e[e.length-1])[h])+a(o(e[e.length-1])[h]);return this.props.tooltipHtml(_,P)},render:function(){var e=this.props,t=e.height,r=e.width,l=e.margin,u=e.colorScale,c=e.interpolate,h=e.stroke,d=(e.offset,e.values),f=e.label,m=e.x,y=e.y,v=e.y0,g=e.xAxis,_=e.yAxis,P=this._data,E=this._innerWidth,T=this._innerHeight,S=this._xScale,M=this._yScale,b=(this._xIntercept,this._yIntercept,s.svg.line().x(function(e){return S(m(e))}).y(function(e){return M(v(e)+y(e))}).interpolate(c)),R=s.svg.area().x(function(e){return S(m(e))}).y0(function(e){return M(M.domain()[0]+v(e))}).y1(function(e){return M(v(e)+y(e))}).interpolate(c);return i.createElement("div",null,i.createElement(a,{height:t,width:r,margin:l},i.createElement(x,{data:P,line:b,area:R,colorScale:u,stroke:h,label:f,values:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),i.createElement(o,n({className:"x axis",orientation:"bottom",scale:S,height:T,width:E},g)),i.createElement(o,n({className:"y axis",orientation:"left",scale:M,height:T,width:E},_))),i.createElement(p,{hidden:this.state.tooltip.hidden,top:this.state.tooltip.top,left:this.state.tooltip.left,html:this.state.tooltip.html}))}});e.exports=v},function(e,t,r){"use strict";var n=r(1),i=(r(2),n.createClass({displayName:"Bar",propTypes:{width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired,x:n.PropTypes.number.isRequired,y:n.PropTypes.number.isRequired,fill:n.PropTypes.string.isRequired,data:n.PropTypes.oneOfType([n.PropTypes.array,n.PropTypes.object]).isRequired,onMouseEnter:n.PropTypes.func,onMouseLeave:n.PropTypes.func},render:function(){var e=this.props,t=e.x,r=e.y,i=e.width,s=e.height,a=e.fill,o=e.data,l=e.onMouseEnter,p=e.onMouseLeave;return n.createElement("rect",{className:"bar",x:t,y:r,width:i,height:s,fill:a,onMouseMove:function(e){l(e,o)},onMouseLeave:function(e){p(e)}})}}));e.exports=i},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),s=(r(2),r(3)),a=r(5),o=r(16),l=r(7),p=r(6),u=r(4),c=r(9),h=r(13),d=r(14),f=r(10),m=r(8),y=i.createClass({displayName:"DataSet",propTypes:{data:i.PropTypes.array.isRequired,xScale:i.PropTypes.func.isRequired,yScale:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired,values:i.PropTypes.func.isRequired,label:i.PropTypes.func.isRequired,x:i.PropTypes.func.isRequired,y:i.PropTypes.func.isRequired,y0:i.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.data,r=e.xScale,n=e.yScale,s=e.colorScale,a=e.values,l=e.label,p=e.x,u=e.y,c=e.y0,h=e.onMouseEnter,d=e.onMouseLeave,f=t.map(function(e){return a(e).map(function(t,a){return i.createElement(o,{key:""+l(e)+"."+a,width:r.rangeBand(),height:n(n.domain()[0])-n(u(t)),x:r(p(t)),y:n(c(t)+u(t)),fill:s(l(e)),data:t,onMouseEnter:h,onMouseLeave:d})})});return i.createElement("g",null,f)}}),x=i.createClass({displayName:"BarChart",mixins:[p,u,c,h,d,f,m],getDefaultProps:function(){return{}},_tooltipHtml:function(e){return this.props.tooltipHtml(this.props.x(e),this.props.y0(e),this.props.y(e))},render:function(){var e=this.props,t=e.height,r=e.width,o=e.margin,p=e.colorScale,u=e.values,c=e.label,h=e.y,d=e.y0,f=e.x,m=e.xAxis,x=e.yAxis,v=this._data,g=this._innerWidth,_=this._innerHeight,P=this._xScale,E=this._yScale;return i.createElement("div",null,i.createElement(s,{height:t,width:r,margin:o},i.createElement(y,{data:v,xScale:P,yScale:E,colorScale:p,values:u,label:c,y:h,y0:d,x:f,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),i.createElement(a,n({className:"x axis",orientation:"bottom",scale:P,height:_,width:g},m)),i.createElement(a,n({className:"y axis",orientation:"left",scale:E,height:_,width:g},x))),i.createElement(l,{hidden:this.state.tooltip.hidden,top:this.state.tooltip.top,left:this.state.tooltip.left,html:this.state.tooltip.html}))}});e.exports=x},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),s=(r(2),r(3)),a=r(5),o=r(4),l={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},p=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],u=i.createClass({displayName:"Brush",mixins:[o],getInitialState:function(){return{resizers:p[0],xExtent:[0,0],yExtent:[0,0],xExtentDomain:void 0,yExtentDomain:void 0}},getDefaultProps:function(){return{xScale:null,yScale:null}},componentWillMount:function(){this._extent(this.props.extent),this.setState({resizers:p[!this.props.xScale<<1|!this.props.yScale]})},componentWillReceiveProps:function(e){e.xScale!==this.props.xScale&&(this._extent(e.extent,e.xScale),this.setState({resizers:p[!this.props.xScale<<1|!this.props.yScale]}))},render:function(){var e=this,t=this.props.xScale?this._d3_scaleRange(this.props.xScale):null,r=this.props.yScale?this._d3_scaleRange(this.props.yScale):null,o=i.createElement("rect",{className:"background",style:{visibility:"visible",cursor:"crosshair"},x:t?t[0]:"",width:t?t[1]-t[0]:"",y:r?r[0]:"",height:r?r[1]-r[0]:this._innerHeight,onMouseDown:this._onMouseDownBackground}),p=void 0;this.props.xScale&&(p=i.createElement("rect",{className:"extent",style:{cursor:"move"},x:this.state.xExtent[0],width:this.state.xExtent[1]-this.state.xExtent[0],height:this._innerHeight,onMouseDown:this._onMouseDownExtent}));var u=this.state.resizers.map(function(t){return i.createElement("g",{key:t,className:"resize "+t,style:{cursor:l[t]},transform:"translate("+e.state.xExtent[+/e$/.test(t)]+", "+e.state.yExtent[+/^s/.test(t)]+")",onMouseDown:function(r){e._onMouseDownResizer(r,t)}},i.createElement("rect",{x:/[ew]$/.test(t)?-3:null,y:/^[ns]/.test(t)?-3:null,width:"6",height:e._innerHeight,style:{visibility:"hidden",display:e._empty()?"none":null}}))});return i.createElement("div",null,i.createElement(s,{height:this.props.height,width:this.props.width,margin:this.props.margin},i.createElement("g",{style:{pointerEvents:"all"},onMouseUp:this._onMouseUp,onMouseMove:this._onMouseMove},o,p,u),i.createElement(a,n({className:"x axis",orientation:"bottom",scale:this.props.xScale,height:this._innerHeight,width:this._innerWidth},this.props.xAxis))))},_getMousePosition:function(e){var t=this.getDOMNode().getElementsByTagName("svg")[0],r=void 0;if(t.createSVGPoint){var n=t.createSVGPoint();n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),r=[n.x-this.props.margin.left,n.y-this.props.margin.top]}else{var i=t.getBoundingClientRect();r=[e.clientX-i.left-t.clientLeft-this.props.margin.left,e.clientY-i.top-t.clientTop-this.props.margin.left]}return r},_onMouseDownBackground:function(e){e.preventDefault();var t=this._d3_scaleRange(this.props.xScale),r=this._getMousePosition(e),n=this.state.xExtent[1]-this.state.xExtent[0];t[1]-=n;var i=Math.max(t[0],Math.min(t[1],r[0]));this.setState({xExtent:[i,i+n]})},_onMouseDownExtent:function(e){e.preventDefault(),this._mouseMode="drag";var t=this._getMousePosition(e),r=t[0]-this.state.xExtent[0];this._startPosition=r},_onMouseDownResizer:function(e,t){e.preventDefault(),this._mouseMode="resize",this._resizeDir=t},_onDrag:function(e){var t=this._d3_scaleRange(this.props.xScale),r=this._getMousePosition(e),n=this.state.xExtent[1]-this.state.xExtent[0];t[1]-=n;var i=Math.max(t[0],Math.min(t[1],r[0]-this._startPosition));this.setState({xExtent:[i,i+n],xExtentDomain:null})},_onResize:function(e){var t=this._d3_scaleRange(this.props.xScale),r=this._getMousePosition(e),n=Math.max(t[0],Math.min(t[1],r[0]));"w"==this._resizeDir?n>this.state.xExtent[1]?(this.setState({xExtent:[this.state.xExtent[1],n],xExtentDomain:null}),this._resizeDir="e"):this.setState({xExtent:[n,this.state.xExtent[1]],xExtentDomain:null}):"e"==this._resizeDir&&(n<this.state.xExtent[0]?(this.setState({xExtent:[n,this.state.xExtent[0]],xExtentDomain:null}),this._resizeDir="w"):this.setState({xExtent:[this.state.xExtent[0],n],xExtentDomain:null}))},_onMouseMove:function(e){e.preventDefault(),"resize"==this._mouseMode?this._onResize(e):"drag"==this._mouseMode&&this._onDrag(e)},_onMouseUp:function(e){e.preventDefault(),this._mouseMode=null,this.props.onChange(this._extent())},_extent:function(e,t){var r,n,i,s,a,o=t||this.props.xScale,l=this.props.yScale,p=this.state,u=p.xExtent,c=p.yExtent,h=p.xExtentDomain,d=p.yExtentDomain;return arguments.length?(o&&(r=e[0],n=e[1],l&&(r=r[0],n=n[0]),h=[r,n],o.invert&&(r=o(r),n=o(n)),r>n&&(a=r,r=n,n=a),(r!=u[0]||n!=u[1])&&(u=[r,n])),l&&(i=e[0],s=e[1],o&&(i=i[1],s=s[1]),d=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(a=i,i=s,s=a),(i!=c[0]||s!=c[1])&&(c=[i,s])),void this.setState({xExtent:u,yExtent:c,xExtentDomain:h,yExtentDomain:d})):(o&&(h?(r=h[0],n=h[1]):(r=u[0],n=u[1],o.invert&&(r=o.invert(r),n=o.invert(n)),r>n&&(a=r,r=n,n=a))),l&&(d?(i=d[0],s=d[1]):(i=c[0],s=c[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(a=i,i=s,s=a))),o&&l?[[r,i],[n,s]]:o?[r,n]:l&&[i,s])},_empty:function(){return!!this.props.xScale&&this.state.xExtent[0]==this.state.xExtent[1]||!!this.props.yScale&&this.state.yExtent[0]==this.state.yExtent[1]},_d3_scaleExtent:function(e){var t=e[0],r=e[e.length-1];return r>t?[t,r]:[r,t]},_d3_scaleRange:function(e){return e.rangeExtent?e.rangeExtent():this._d3_scaleExtent(e.range())}});e.exports=u},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),s=r(2),a=r(3),o=r(5),l=r(12),p=r(7),u=r(6),c=r(4),h=r(9),d=r(11),f=r(10),m=r(8),y=i.createClass({displayName:"DataSet",propTypes:{data:i.PropTypes.array.isRequired,line:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.data,s=e.line,a=(e.strokeWidth,e.colorScale),o=e.values,p=e.label,u=e.onMouseEnter,c=e.onMouseLeave,h=n.map(function(e,t){return i.createElement(l,{key:""+p(e)+"."+t,className:"line",d:s(o(e)),stroke:a(p(e)),data:o(e),onMouseEnter:u,onMouseLeave:c,style:{clipPath:"url(#lineClip)"}})}),d=i.renderToString(i.createElement("rect",{width:t,height:r}));return i.createElement("g",null,i.createElement("g",{dangerouslySetInnerHTML:{__html:'<defs><clipPath id="lineClip">'+d}}),h,i.createElement("rect",{width:t,height:r,fill:"none",stroke:"none",style:{pointerEvents:"all"},onMouseMove:function(e){u(e,n)},onMouseLeave:function(e){c(e)}}))}}),x=i.createClass({displayName:"LineChart",mixins:[u,c,h,d,f,m],propTypes:{interpolate:i.PropTypes.string},getDefaultProps:function(){return{interpolate:"linear",shape:"circle",shapeColor:null}},_tooltipHtml:function(e,t){var r=this.props,n=r.x,i=(r.y0,r.y),a=r.values,o=r.label,l=this._xScale,p=this._yScale,u=l.invert(t[0]),c=p.invert(t[1]),h=s.bisector(function(e){return n(e)}).left,d=e.map(function(e){var t=h(a(e),u),r=t==e.length?t-1:t,i=n(a(e)[r]),s=0==t?t:t-1,l=n(a(e)[s]),p=void 0;return p=Math.abs(u-i)<Math.abs(u-l)?r:s,{label:o(e),value:a(e)[p]}});d.sort(function(e,t){return i(e.value)-i(t.value)});var f=s.bisector(function(e){return i(e.value)}).left,m=f(d,c),y=m==d.length?m-1:m,x=0==m?m:m-1,v=i(d[y].value),g=i(d[x].value),_=void 0;return _=Math.abs(c-v)<Math.abs(c-g)?y:x,this._tooltipData=d[_],this.props.tooltipHtml(d[_].label,d[_].value)},render:function(){var e=this,t=this.props,r=t.height,l=t.width,u=t.margin,c=t.colorScale,h=t.interpolate,d=t.strokeWidth,f=t.stroke,m=t.values,x=t.label,v=t.x,g=t.y,_=t.xAxis,P=t.yAxis,E=t.shape,T=t.shapeColor,S=this._data,M=this._innerWidth,b=this._innerHeight,R=this._xScale,k=this._yScale,w=this._xIntercept,D=this._yIntercept,q=s.svg.line().x(function(e){return R(v(e))}).y(function(e){return k(g(e))}).interpolate(h),N=void 0;if(!this.state.tooltip.hidden){var L=s.svg.symbol().type(E),z=T?T:c(this._tooltipData.label),C=this._tooltipData?"translate("+R(v(this._tooltipData.value))+", "+k(g(this._tooltipData.value))+")":"";N=this.state.tooltip.hidden?null:i.createElement("path",{className:"dot",d:L(),transform:C,fill:z,onMouseEnter:function(t){e.onMouseEnter(t,S)},onMouseLeave:function(t){e.onMouseLeave(t)}})}return i.createElement("div",null,i.createElement(a,{height:r,width:l,margin:u},i.createElement(y,{height:b,width:M,data:S,line:q,strokeWidth:d,stroke:f,colorScale:c,values:m,label:x,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),i.createElement(o,n({className:"x axis",orientation:"bottom",scale:R,height:b,width:M,zero:D},_)),i.createElement(o,n({className:"y axis",orientation:"left",scale:k,height:b,width:M,zero:w},P)),N),i.createElement(p,{hidden:this.state.tooltip.hidden,top:this.state.tooltip.top,left:this.state.tooltip.left,html:this.state.tooltip.html}))}});e.exports=x},function(e,t,r){"use strict";var n=r(1),i=r(2),s=r(3),a=r(7),o=r(6),l=r(4),p=r(11),u=r(8),c=n.createClass({displayName:"Wedge",propTypes:{d:n.PropTypes.string.isRequired,fill:n.PropTypes.string.isRequired},render:function(){var e=this.props,t=e.fill,r=e.d,i=e.data,s=e.onMouseEnter,a=e.onMouseLeave;return n.createElement("path",{fill:t,d:r,onMouseMove:function(e){s(e,i)},onMouseLeave:function(e){a(e)}})}}),h=n.createClass({displayName:"DataSet",propTypes:{pie:n.PropTypes.array.isRequired,arc:n.PropTypes.func.isRequired,outerArc:n.PropTypes.func.isRequired,colorScale:n.PropTypes.func.isRequired,radius:n.PropTypes.number.isRequired,strokeWidth:n.PropTypes.number,stroke:n.PropTypes.string,fill:n.PropTypes.string,opacity:n.PropTypes.number,x:n.PropTypes.func.isRequired},getDefaultProps:function(){return{strokeWidth:2,stroke:"#000",fill:"none",opacity:.3}},render:function(){var e=this.props,t=e.pie,r=e.arc,i=e.outerArc,s=e.colorScale,a=e.radius,o=e.strokeWidth,l=e.stroke,p=e.fill,u=e.opacity,h=e.x,d=e.y,f=e.onMouseEnter,m=e.onMouseLeave,y=t.map(function(e,t){function y(e){return e.startAngle+(e.endAngle-e.startAngle)/2}var x=r(e),v=i.centroid(e);v[0]=a*(y(e)<Math.PI?1:-1);var g=y(e)<Math.PI?"start":"end",_=i.centroid(e);return _[0]=.95*a*(y(e)<Math.PI?1:-1),n.createElement("g",{key:""+h(e.data)+"."+d(e.data)+"."+t,className:"arc"},n.createElement(c,{data:e.data,fill:s(h(e.data)),d:x,onMouseEnter:f,onMouseLeave:m}),n.createElement("polyline",{opacity:u,strokeWidth:o,stroke:l,fill:p,points:[r.centroid(e),i.centroid(e),_]}),n.createElement("text",{dy:".35em",x:v[0],y:v[1],textAnchor:g},h(e.data)))});return n.createElement("g",null,y)}}),d=n.createClass({displayName:"PieChart",mixins:[o,l,p,u],propTypes:{innerRadius:n.PropTypes.number,outerRadius:n.PropTypes.number,labelRadius:n.PropTypes.number,padRadius:n.PropTypes.string,cornerRadius:n.PropTypes.number},getDefaultProps:function(){return{innerRadius:null,outerRadius:null,labelRadius:null,padRadius:"auto",cornerRadius:0}},_tooltipHtml:function(e){return this.props.tooltipHtml(this.props.x(e),this.props.y(e))},render:function(){var e=this.props,t=e.data,r=e.width,o=e.height,l=e.margin,p=e.colorScale,u=e.innerRadius,c=e.outerRadius,d=e.labelRadius,f=e.padRadius,m=e.cornerRadius,y=e.x,x=e.y,v=e.values,g=this._innerWidth,_=this._innerHeight,P=i.layout.pie().value(function(e){return x(e)}),E=Math.min(g,_)/2;u||(u=.8*E),c||(c=.4*E),d||(d=.9*E);var T=i.svg.arc().innerRadius(u).outerRadius(c).padRadius(f).cornerRadius(m),S=i.svg.arc().innerRadius(d).outerRadius(d),M=P(v(t)),b="translate("+g/2+", "+_/2+")";return n.createElement("div",null,n.createElement(s,{height:o,width:r,margin:l},n.createElement("g",{transform:b},n.createElement(h,{width:g,height:_,colorScale:p,pie:M,arc:T,outerArc:S,radius:E,x:y,y:x,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}))),n.createElement(a,{hidden:this.state.tooltip.hidden,top:this.state.tooltip.top,left:this.state.tooltip.left,html:this.state.tooltip.html}))}});e.exports=d},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),s=r(2),a=r(3),o=r(5),l=r(7),p=r(6),u=r(4),c=r(9),h=r(11),d=r(10),f=r(8),m=i.createClass({displayName:"DataSet",propTypes:{data:i.PropTypes.array.isRequired,symbol:i.PropTypes.func.isRequired,xScale:i.PropTypes.func.isRequired,yScale:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired,onMouseEnter:i.PropTypes.func,onMouseLeave:i.PropTypes.func},render:function(){var e=this.props,t=e.data,r=e.symbol,n=e.xScale,s=e.yScale,a=e.colorScale,o=e.label,l=e.values,p=e.x,u=e.y,c=e.onMouseEnter,h=e.onMouseLeave,d=t.map(function(e){return l(e).map(function(t,l){var d="translate("+n(p(t))+", "+s(u(t))+")";return i.createElement("path",{key:""+o(e)+"."+l,className:"dot",d:r(),transform:d,fill:a(o(e)),onMouseOver:function(e){c(e,t)},onMouseLeave:function(e){h(e)}})})});return i.createElement("g",null,d)}}),y=i.createClass({displayName:"ScatterPlot",mixins:[p,u,c,h,d,f],propTypes:{rScale:i.PropTypes.func,shape:i.PropTypes.string},getDefaultProps:function(){return{rScale:null,shape:"circle"}},_tooltipHtml:function(e){return this.props.tooltipHtml(this.props.x(e),this.props.y(e))},render:function(){var e=this.props,t=e.height,r=e.width,p=e.margin,u=e.colorScale,c=e.rScale,h=e.shape,d=e.label,f=e.values,y=e.x,x=e.y,v=e.xAxis,g=e.yAxis,_=this._data,P=this._innerWidth,E=this._innerHeight,T=this._xScale,S=this._yScale,M=this._xIntercept,b=this._yIntercept,R=s.svg.symbol().type(h);return c&&(R=R.size(c)),i.createElement("div",null,i.createElement(a,{height:t,width:r,margin:p},i.createElement(o,n({className:"x axis",orientation:"bottom",scale:T,height:E,width:P,zero:b},v)),i.createElement(o,n({className:"y axis",orientation:"left",scale:S,height:E,width:P,zero:M},g)),i.createElement(m,{data:_,xScale:T,yScale:S,colorScale:u,symbol:R,label:d,values:f,x:y,y:x,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})),i.createElement(l,{hidden:this.state.tooltip.hidden,top:this.state.tooltip.top,left:this.state.tooltip.left,html:this.state.tooltip.html}))}});e.exports=y}])});
//# sourceMappingURL=react-d3-components.js.map